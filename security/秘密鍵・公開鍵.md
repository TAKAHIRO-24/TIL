# 公開鍵認証

## SHH

SSH（Secure Shell）には以下の種類がある。
- パスワード認証方式
- 公開鍵認証方式

## パスワード認証方式

接続先サーバーのユーザーアカウントとパスワードで接続。

#### メリット
- 接続設定が簡単

#### デメリット
- どの端末からでもログインができるため安全性は低い。


## 公開鍵認証方式
接続元端末に秘密鍵を、接続先サーバーに公開鍵を配置。
秘密鍵を配置した端末でパスフレーズを使用して秘密鍵にアクセスし、公開鍵を配置したサーバーに接続。

#### メリット
- 秘密鍵を持つ端末からしか接続ができないためセキュリティ向上。
#### デメリット
- 鍵の作成、管理等が煩雑。

#### 接続手順
##### 前提
- クライアントで秘密鍵・公開鍵を作成
- 公開鍵をサーバーへ配置

##### 手順
1. クライアント
  - サーバーへのログイン要求
2. サーバー
  - 公開鍵で暗号作成
  - 暗号をクライアントへ渡す
3. クライアント
  - 秘密鍵で暗号を複合
  - 複合した情報をサーバーへ渡す
4. サーバー
  - 既存情報と比較
  - 一致すれば暗号化通信開始

## 鍵の作成
#### 鍵の種類
- dsa
- ecdsa
- ed25519
- rsa
- rsa1

デフォルトで作成される鍵は`rsa`となっている。
作成する鍵を指定する場合は`-t`オプションを指定。
```
$ ssh-keygen -t ed25519
```

#### 作成ファイル
以下のファイルが`~/.ssh/`に作成される。
<dl>
  <dt>秘密鍵</dt>
  <dd>id_ed25519</dd>
  <dt>公開鍵<dt>
  <dd>id_ed25519.pub<dd>
<dl>

