# 専用サーバー接続
`専用サーバーｓ悦族`は、あるセッション（接続）の処理を特定の一つのプロセスで実行する接続モード。  
ユーザープロセスから送信されたSQL文は、接続を確立した特定の`サーバープロセス`によって実行される。

# 共有サーバー接続
`共有サーバー接続`は、あるセッション（接続）の処理を複数のプロセスで実行する接続モード。  
ユーザープロセスから送信されたSQL文は、`ディスパッチャ`を経由して、いずれかの`共有サーバープロセス`によって実行される。

![image](https://github.com/TAKAHIRO-24/TIL/assets/85177462/8fa9d5ab-fe9b-4a68-9757-494b3a4d17c7)

## 設定方法
|パラメータ|説明|
|:-:|:-|
|SHARED_SERVERS|インスタンス起動時に併せて起動される共有サーバープロセス数を設定。共有サーバー接続を使用する場合は`1`以上の値を設定する必要がある。<br>なお共有サーバープロセス数は自動調整される。|
|MAX_SHARED_SERVERS|同時に実行できる共有サーバープロセスの最大数を設定する。負荷や構成に応じて、共有サーバープロセス数は自動調整されるが、プロセス数の上限をここで指定できる。|
|DISPATCHERS|ディスパッチャの起動数、使用するプロトコルなどのディスパッチャに関連する各種設定。デフォルトではディスパッチャの起動数が`1`、仕様プロトコルが`TCP`となる。|
|||

クライアント側の設定は通常不要だが、以下の専用サーバー接続を強制する設定がある場合は除外する必要がある。
- `tnsnames.ora`の接続記述子`(DESCRIPTION=...)`内に`(SERVER=DEDICATED)`を指定。
- `sqlnet.ora`に`USE_DEDICATED_SERVER=ON`を指定。


# 使い分け

||専用サーバ接続|共有サーバー接続|
|:-:|:-|:-|
|処理実行プロセス|専用サーバープロセス|複数の共有サーバープロセス|
|可能接続方法|ローカル接続<br>リモート接続|リモート接続|
|新規接続確立時の処理|サーバープロセスが新規起動、割り当てられる。|リスナー経由でディスパッチャと接続が確立される。|
|メリット||・起動プロセス数を削減できる。<br>・使用するメモリー量を削減できる。<br>・プロセス起動が不用なため、頻繁に接続と切断を繰り返す場合に処理負荷を軽減できる。|
|デメリット||・ディスパッチャを経由するため、バッチ処理等一つの接続内で大量の処理を実行するのには向かない。|
||||
